<app-loading [time]="2000" />
<div class="contenedor">
  <div class="card mx-lg-5 mx-auto">
    <div class="card-body">
      <h3 class="text-center">Inicio de Sesión</h3>
      <hr />
      <form enctype="multipart/form-data" method="post" autocomplete="off" [formGroup]="form" (submit)="login()">
        <div class="mb-3">
          <label for="email"><i class="bi bi-envelope-fill"></i> Correo Electrónico</label>
          <input type="email" class="form-control shadow-none" id="email" placeholder="name@example.com"
            formControlName="email">
          <div class="d-flex flex-column">
            @if(form.controls['email'].invalid && form.controls['email'].touched || form.controls['email'].dirty ){

            @if(form.controls['email'].errors?.['required']){
            <small class="error"><i class="bi bi-bug-fill"></i> El Correo Electrónico es requerido.</small>
            }

            @if(form.controls['email'].errors?.['maxlength']){
            <small class="error"><i class="bi bi-bug-fill"></i> El Correo Electrónico debe tener 200 caracteres como
              maximo. </small>
            }

            @if(form.controls['email'].errors?.['email'] || form.controls['email'].errors?.['pattern']){
            <small class="error"><i class="bi bi-bug-fill"></i> El Correo Electrónico es invalido. </small>
            }

            }
          </div>
        </div>
        <div class="mb-3">
          <label for="password"><i class="bi bi-key-fill"></i> Contraseña</label>
          <div class="position-relative">
            <input type="{{verPassword ? 'text' : 'password'}}" class="form-control shadow-none" id="password"
              placeholder="******************" formControlName="password">
            <div class="position-absolute top-50 end-0 translate-middle-y me-2 password">
              <i class="bi bi-eye-slash-fill" (click)="mostrarPassword($event)"></i>
            </div>
          </div>

          <div class="d-flex flex-column">
            @if(form.controls['password'].invalid && form.controls['password'].touched ||
            form.controls['password'].dirty ){

            @if(form.controls['password'].errors?.['required']){
            <small class="error"><i class="bi bi-bug-fill"></i> La contraseña es requerida. </small>
            }

            @if(form.controls['password'].errors?.['maxlength']){
            <small class="error"><i class="bi bi-bug-fill"></i> La contraseña puede tener 16 digitos como
              maximo.</small>
            }

            @if(form.controls['password'].errors?.['minlength']){
            <small class="error"><i class="bi bi-bug-fill"></i> La contraseña puede tener 8 digitos como
              minimo.</small>
            }

            }
          </div>
        </div>

        <button type="submit" class="btn"><i class="bi bi-box-arrow-in-right"></i>
          Ingresar</button>
      </form>

      <div class="footer-login">
        Desear crear tu empresa? <a routerLink="/register">Registrate</a>
      </div>

    </div>
  </div>
</div>
